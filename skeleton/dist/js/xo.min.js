/*! xo 2016-07-22 */
var xj=jQuery.noConflict(),xo={config:{loadPathDefault:"../dist/js/",loadPathExtension:".js",ajax:{pathDefault:"../dist/json/",fileExtension:".json",defaultMethod:"get",defaultDataType:"json"},sessionStorageKey:"xo-",sessionFlushRule:!1,dataLoadedItems:[],showErrorLog:!0,showErrorLogDate:!1,animationSpeed:500,domParentNode:"body",defaultXOWrapper:"section",defaultXOPage:"index",defaultStickyOffset:300,init:{accordion:!0,data:!1,dropdowns:!0,forms:!0,gutter:!0,modal:!0,nav:!0,panel:!0,placeholders:!1,poster:!1,sticky:!0,tabs:!0,video:!1},appRunning:!1,reInitKey:"0188846aREvvS7"},_define:{backlog:function(){},domload:function(){},dataready:function(){},domready:function(){},targetclick:function(){},targetswipe:function(){}},_throw:{dataerror:function(){},datatimeout:function(){},nullified:function(){},overflow:function(){}},init:function(a,b){xo.config.appRunning!==!0?(xo.pageSetUp("html","xo","true","xo set"),1==xo.config.init.accordion?xo.navPanelBuilder("accordion"):null,1==xo.config.init.data?xo.layoutToPage():null,1==xo.config.init.dropdowns?xo.dropDownInit():null,1==xo.config.init.forms?xo.formToPage():null,1==xo.config.init.gutter?xo.gutter("init"):null,1==xo.config.init.modal?xo.modal("init"):null,1==xo.config.init.nav?xo.navInit():null,1==xo.config.init.panel?xo.panel():null,1==xo.config.init.placeholders?xo.placeholder():null,1==xo.config.init.poster?xo.poster():null,1==xo.config.init.sticky?xo.sticky():null,1==xo.config.init.tabs?xo.navPanelBuilder("tabs"):null,1==xo.config.init.video?xo.video():null,xo.initMouseEvents(),xo.config.appRunning=!0,1==a?xo.log("xo is running"):null,b&&"function"==typeof b&&b()):xo.log("An XO instance is already running")},saveLoadedItems:function(a){xo.config.dataLoadedItems.push(a)},checkLoadedItems:function(a){if(xo.config.dataLoadedItems.indexOf(a)>-1)return!0},pageSetUp:function(a,b,c,d){xo.config.appRunning!==!0?(xj(a).attr({"xo-prefix":b,"xo-min":c}).addClass(d),xj(xo.config.domParentNode).contents().wrapAll("<"+xo.config.defaultXOWrapper+' class="xo" xo-reserved="true">')):xo.log("An XO instance is already running")},loadSuccess:function(){xj(xo.config.domParentNode).css("opacity",1)},loadExternal:function(scriptPath,scriptURI,scriptExt){var a=xo.config.loadPathDefault,b=void 0==scriptURI?"":scriptURI,c=xo.config.loadPathExtension,d=a+b+c;xj.getScript(d,function(xoCore){eval(xoCore)})},log:function(a){var b=navigator.vendor.indexOf("Google")>-1,c=1==xo.config.showErrorLogDate?new Date:"";1==xo.config.showErrorLog&&(1==b?console.warn(a,c):console.log(a,c))},prompt:function(a,b){var c=confirm(a);1==c&&(window.location=b),document.getElementById("demo").innerHTML=txt},createUniqueCode:function(){var a=(new Date).valueOf(),b=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);return a+b},countDomTags:function(a){a=a||document;var b,c={},d=[],e=a.getElementsByTagName("*");for(e=d.slice.apply(e,[0,e.length]);e.length;)b=e.shift().tagName.toLowerCase(),c[b]||(c[b]=0),c[b]+=1;for(var f in c)d[d.length]=f+": "+c[f];return d.sort(function(a,b){return a=1*a.split(":")[1],b=1*b.split(":")[1],b-a}),d.join(", ")},placeholder:function(){var a='[xo-type="placeholder"]';xj(a).each(function(){var a="https://placeholdit.imgix.net/",b=xj(this).attr("xo-type-param");xj(this).attr("src",a+b)})},switchNavMode:function(){var a=(xj("html").attr("xo-prefix"),xj(xo.config.domParentNode).find(xo.config.defaultXOWrapper)),b=a.attr("xo-reserved");1==b?xo.config.ajax.pathDefault:scriptPath},animate:function(a,b,c,d){},getData:function(a,b,c,d,e,f){var g=xo.config.ajax.pathDefault,h=void 0==b?"":b,i=xo.config.ajax.fileExtension,j=g+h+i;return xj.ajax({dataType:xo.config.ajax.defaultDataType,url:j,type:xo.config.ajax.defaultMethod,statusCode:{404:function(){xo.log("XO can't load that file")},500:function(){xo.log("the server has encountered an internal error")},502:function(){xo.log("bad gateway")},503:function(){xo.log("the service is unavailable")},504:function(){xo.log("the gateway has timed out")}}}).success(function(a){"p"==c?xo.parseData(a,!0,e):"s"==c?xo.saveDataToSession(JSON.stringify(a),"s",xo.config.sessionStorageKey,d):"b"==c&&(null===sessionStorage.getItem(xo.config.sessionStorageKey+d)&&(xo.saveDataToSession(JSON.stringify(a),"s",xo.config.sessionStorageKey,d),xo.log("Saved "+xo.config.sessionStorageKey+d+" to session storage")),xo.getDataFromSession("xo",d,!0,f||xo.config.sessionFlushRule))}).error(function(){xo.log("ajax can't load that file")})},parseData:function(a,b,c){if(1==b)var d=JSON.parse(a);xj(c).append(d)},saveDataToSession:function(a,b,c,d){"undefined"!=typeof Storage?(c=xo.config.sessionStorageKey,"s"==b?sessionStorage.setItem(c+d,a):localStorage.setItem(xo.config.sessionStorageKey+xo.createUniqueCode(),a)):xo.log("Sorry! No Web Storage support..")},getDataFromSession:function(a,b,c,d){var e=sessionStorage.getItem(a+"-"+b);return 1==c&&(e=JSON.parse(e)),1==d&&sessionStorage.removeItem(a+"-"+b),e},trigger:function(a,b,c){c=c||null,"direct"==a?window.location=b:"kill-modal"==a?xo.modal("kill-modal",b):"prompt"==a&&xo.prompt(c,b)},tooltip:function(a,b){if("add"==b){var c=xj(a).attr("xo-tooltip-text"),d="tooltip"==xj(a).attr("xo-trigger"),e=Math.round(xj(a).offset().top),f=Math.round(xj(a).offset().left);if(1==d){var g='<div class="tooltip" style="left:'+f+"px;top:"+e+'px;">'+c+"</div>";xj(g).insertAfter(a)}}else"delete"==b&&xj(".tooltip").remove()},sticky:function(){xj(window).scroll(function(){var a=xj('[xo-span="sticky"]');xj(window).scrollTop()>=xo.config.defaultStickyOffset?a.addClass("sticky-fixed"):a.removeClass("sticky-fixed")})},panel:function(){xj('[xo-type="panel-group"]').each(function(){var a='[xo-type="panel"]',b=xj(this).children().length,c=xj(this).width();xj(this).find(a).each(function(){xj(this).css("width",c/b-(b+1))})})},getTemplateObjects:function(a,b,c){for(var d=b.split(","),e=[],f="",g=0,h=d.length;g<h;g++)e.push({a:d[g].replace("{{","").replace("}}","").split(":")[0],b:d[g].replace("{{","").replace("}}","").split(":")[1]});switch(a){case"modal":for(var i=0,j=e.length;i<j;i++)if(e[i].a.indexOf("buttons")>-1){var k=e[i].b.split("@");if(k.length>1){f+='<div class="xo modal buttons">';for(var l=0,m=k.length;l<m;l++){var n=k[l].split("action=")[1].split("--"),o=n[0];if(n.length>1)var p=n[1].split("=")[0];var q=o+'="'+p+'"',r=o+"-"+p;if(k[l].indexOf("url")>-1)var s=null!==k[l].split("url=")[1].split("]")[0]&&"null"!==k[l].split("url=")[1].split("]")[0]?k[l].split("url=")[1].split("]")[0]:c;else k[l].indexOf("modal")>-1&&(s=null!==k[l].split("modal=")[1].split("]")[0]&&"null"!==k[l].split("modal=")[1].split("]")[0]?k[l].split("modal=")[1].split("]")[0]:c);f+="<button ",f+=q+" ",f+=r+'="'+s+'"',f+=">"+k[l].split("[")[0]+"</button>"}f+="</div>"}}else f+='<div class="xo modal '+e[i].a+'">'+e[i].b+"</div>";return f;case"popup":}},modal:function(a,b){if("kill-modal"!==a){var c='[xo-type="modal"]',d=xj(c).attr("xo-object-name"),e='[xo-type="modal-filter"]',f='<div xo-type="modal-filter"></div>',g=xj(c).attr("xo-data-template");if(void 0!==typeof g&&g!==!1?(xj(c).contents().not('[xo-type="modal-toggle"]').remove(),xj(c).append(xo.getTemplateObjects("modal",g,d))):"undefined"!==b&&b!==!1&&(xj(c).contents().not('[xo-type="modal-toggle"]').remove(),xj(c).append(xo.getTemplateObjects("modal",b))),xj(c).length>0)var h=xj(c).attr("xo-state");"init"==a?(xj(c).prepend('<div xo-type="modal-toggle">X</div>'),xj(c).wrap('<div class="modal-wrapper" xo-state="closed">')):"open"==h?(xj(c).attr("xo-state","closed"),xj(c).parent().attr("xo-state","closed"),xj(e).animate({opacity:0},xo.config.animationSpeed,function(){xj(e).remove()})):"closed"==h&&(xj(xo.config.defaultXOWrapper+".xo").prepend(f),xj(e).animate({opacity:1},xo.config.animationSpeed,function(){xj(c).attr("xo-state","open"),xj(c).parent().attr("xo-state","open")}))}else xj('[xo-object-name="'+b+'"]').attr("xo-state","closed").parent().attr("xo-state","closed"),xj('[xo-type="modal-filter"]').remove()},gutter:function(a,b){var c='[xo-type="gutter"]';if(0!==xj(c).length){var d=null!==b&&void 0!==b?c+'[xo-object-name="'+b+'"]':c,e='[xo-type="gutter-filter"]',f='<div xo-type="gutter-filter" xo-parent="'+b+'"></div>';if(xj(d).length>0)var g=xj(d).attr("xo-state"),h=xj(d).width(),i=xj(d).attr("xo-type-param");"init"==a?xj(c).each(function(){var a=xj(this).attr("xo-object-name"),b=xj(d).width();xj(this).prepend('<div xo-type="gutter-toggle" xo-parent="'+a+'">X</div>'),"closed"==xj(this).attr("xo-state")&&xj(this).css(xj(this).attr("xo-type-param"),-b)}):(h=xj(d).width(),"open"==g?("left"==i?xj(d).animate({left:-h},xo.config.animationSpeed,function(){xj(d).attr("xo-state","closed")}):"right"==i&&xj(d).animate({right:-h},xo.config.animationSpeed,function(){xj(d).attr("xo-state","closed")}),xj(e).animate({opacity:0},xo.config.animationSpeed,function(){xj(e).remove()})):"closed"==g&&("left"==i?xj(d).animate({left:"0"},xo.config.animationSpeed):"right"==i&&xj(d).animate({right:"0"},xo.config.animationSpeed),xj(xo.config.defaultXOWrapper+".xo").prepend(f),xj(e).animate({opacity:1},xo.config.animationSpeed),xj(d).attr("xo-state","open")))}},video:function(){xj('[xo-type="video"]').each(function(){var a='[xo-type="video"]',b=xj(a).attr("xo-video-width")||"auto",c=xj(a).attr("xo-video-height")||"auto",d=xj(a).attr("xo-video-src"),e=xj(a).attr("xo-video-format"),f=xj(a).attr("xo-video-controls"),g=xj(a).attr("xo-video-autoplay"),h='<video width="'+b+'" height="'+c+'"';"true"==f&&(h+=" controls"),"true"==g&&(h+=" autoplay"),h+=">",h+='<source src="'+d+'" type="video/'+e+'">',h+="Your browser does not support the video tag.",h+="</video>",xj(a).contents().remove(),xj(a).append(h)})},formToPage:function(){xj('[xo-type="form"]').each(function(){var a=xj(this).attr("xo-object-name");xo.formBuilder("forms/"+a,a,a)})},formBuilder:function(a,b,c){var d=xo.getData(null,a,"b",b,!1),e=[],f="[",g="[",h="[",i="[",j=xo.checkLoadedItems(xo.config.sessionStorageKey+c);j!==!0?d.success(function(a){var b=[],d=a.form;b.push({action:a.formAction,method:a.formMethod,id:a.formId,class:a.formClass}),Object.keys(d).forEach(function(a){switch(d[a].item){case"select":if("object"==typeof d[a].option){for(var b=d[a].option.length,c=0;c<b;c++)f+='{"optionName":"'+d[a].option[c].name+'","optionValue":"'+d[a].option[c].value+'"',f+=1==d[a].option[c].selected?',"optionSelected":true':',"optionSelected":false',f+="}",c<b-1&&(f+=",");f+="]",f=JSON.parse(f)}break;case"radiogroup":if("object"==typeof d[a].option){for(b=d[a].option.length,c=0;c<b;c++)g+='{"optionName":"'+d[a].option[c].name+'","optionValue":"'+d[a].option[c].value+'"',g+=1==d[a].option[c].checked?',"optionChecked":true':',"optionChecked":false',g+="}",c<b-1&&(g+=",");g+="]",g=JSON.parse(g)}break;case"checkbox":if("object"==typeof d[a].option){for(b=d[a].option.length,c=0;c<b;c++)h+='{"optionName":"'+d[a].option[c].name+'","optionValue":"'+d[a].option[c].value+'"',h+=1==d[a].option[c].checked?',"optionChecked":true':',"optionChecked":false',h+="}",c<b-1&&(h+=",");h+="]",h=JSON.parse(h)}break;case"datalist":if("object"==typeof d[a].option){for(b=d[a].option.length,c=0;c<b;c++)i+='{"optionValue":"'+d[a].option[c].value+'"}',c<b-1&&(i+=",");i+="]",i=JSON.parse(i)}}e.push({item:d[a].item,name:d[a].name,label:d[a].label||null,class:d[a].class||null,id:d[a].id||null,required:d[a].required||null,multiple:d[a].multiple||null,placeholder:d[a].placeholder||null,value:d[a].value||null,min:d[a].min-length||null,max:d[a].max-length||null,rows:d[a].rows||null,cols:d[a].cols||null,submit:d[a].submit||null,options:f||g||h||i})});for(var j=e.length,k=0;k<j;k++)switch(e[k].item){case"text":var l='<div class="form-line '+e[k].item+'">';l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"",l+='<input type="text"',l+=null!==e[k].name?' name="'+e[k].name+'"':"",l+=null!==e[k].class?' class="'+e[k].class+'"':"",l+=null!==e[k].id?' id="'+e[k].id+'"':"",l+=null!==e[k].required&&1==e[k].required?" required":"",l+=null!==e[k].placeholder?' placeholder="'+e[k].placeholder+'"':"",l+=null!==e[k].value?' value="'+e[k].value+'"':"",l+=null!==e[k].min?' minlength="'+e[k].min+'"':"",l+=null!==e[k].max?' maxlength="'+e[k].max+'"':"",l+="></div>";break;case"textarea":l+='<div class="form-line '+e[k].item+'">',l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"",l+="<textarea",l+=null!==e[k].rows?' rows="'+e[k].rows+'"':"",l+=null!==e[k].cols?' cols="'+e[k].cols+'"':"",l+=null!==e[k].name?' name="'+e[k].name+'"':"",l+=null!==e[k].class?' class="'+e[k].class+'"':"",l+=null!==e[k].id?' id="'+e[k].id+'"':"",l+=null!==e[k].required&&1==e[k].required?" required":"",l+=null!==e[k].placeholder?' placeholder="'+e[k].placeholder+'"':"",l+=null!==e[k].max?' maxlength="'+e[k].max+'"':"",l+="></textarea></div>";break;case"select":l+='<div class="form-line '+e[k].item+'">',l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"",l+="<select",l+=null!==e[k].name?' name="'+e[k].name+'"':"",l+=null!==e[k].required&&1==e[k].required?" required":"",l+=null!==e[k].multiple&&1==e[k].multiple?" multiple":"",l+=null!==e[k].class?' class="'+e[k].class+'"':"",l+=null!==e[k].id?' id="'+e[k].id+'"':"",l+=">";for(var m=0,n=e[k].options.length;m<n;m++)l+="<option",l+=null!==e[k].options[m].optionSelected&&1==e[k].options[m].optionSelected?" selected":"",l+=' value="'+e[k].options[m].optionValue+'">',l+=e[k].options[m].optionName+"</option>";l+="</select></div>";break;case"radiogroup":l+='<div class="form-line '+e[k].item+'">',l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"";for(var o=0,p=e[k].options.length;o<p;o++)l+='<input type="radio"',l+=' name="'+e[k].name+'"',l+=null!==e[k].options[o].optionChecked&&1==e[k].options[o].optionChecked?" checked":"",l+=' value="'+e[k].options[o].optionValue+'">';l+="</div>";break;case"checkbox":l+='<div class="form-line '+e[k].item+'">',l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"";for(var q=0,r=e[k].options.length;q<r;q++)l+='<input type="checkbox"',l+=' name="'+e[k].name+'"',l+=null!==e[k].options[q].optionChecked&&1==e[k].options[q].optionChecked?" checked":"",l+=' value="'+e[k].options[q].optionValue+'">';l+="</div>";break;case"datalist":l+='<div class="form-line '+e[k].item+'">',l+=null!==e[k].label?'<label for="'+e[k].name+'">'+e[k].label+"</label>":"",l+='<input list="'+e[k].id+'" name="'+e[k].name+'">',l+='<datalist id="'+e[k].id+'">';for(var s=0,t=e[k].options.length;s<t;s++)l+='<option value="'+e[k].options[s].optionValue+'">';l+="</datalist>",l+=e[k].submit!==!0?"":'<input type="submit">',l+="</div>"}var u='<form action="'+b[0].action+'" method="'+b[0].method+'" id="'+b[0].id+'" class="'+b[0].class+'">',v="</form>";xj('[xo-object-name="'+c+'"]').append(u+l+v),xo.saveLoadedItems(xo.config.sessionStorageKey+c)}):xo.warningBar("attention","DATA LOADED","This form instance has already been loaded","body")},layoutToPage:function(){xj('[xo-type="data"]').each(function(){var a=xj(this).attr("xo-object-name"),b=xj(this).attr("xo-data-source");xo.layoutBuilder(b,a,a)})},layoutBuilder:function(a,b,c){var d=xo.getData(null,a,"b",b,!1),e=[],f="[",g=xo.checkLoadedItems(xo.config.sessionStorageKey+c);g!==!0?d.success(function(a){var b=a.page;Object.keys(b).forEach(function(a){if("object"==typeof b[a].node){for(var d=b[a].node.length,g=0;g<d;g++)f+='{"nodeType":"'+b[a].node[g].type+'",',f+=null!==b[a].node[g].class?'"nodeClass":"'+b[a].node[g].class+'",':'"nodeClass":null,',f+=null!==b[a].node[g].id?'"nodeID":"'+b[a].node[g].id+'",':'"nodeId":null,',f+=null!==b[a].node[g].xoType?'"nodexoType":"'+b[a].node[g].xoType+'",':'"nodexoType":null,',f+=null!==b[a].node[g].xoState?'"nodexoState":"'+b[a].node[g].xoState+'",':'"nodexoState":null,',f+=null!==b[a].node[g].xoSpan?'"nodexoSpan":"'+b[a].node[g].xoSpan+'",':'"nodexoSpan":null,',f+=null!==b[a].node[g].xoObjectName?'"nodexoObjectName":"'+b[a].node[g].xoObjectName+'",':'"nodexoObjectName":null,',f+=null!==b[a].node[g].xoTypeParam?'"nodexoTypeParam":"'+b[a].node[g].xoTypeParam+'",':'"nodexoTypeParam":null,',f+=null!==b[a].node[g].xoParent?'"nodexoParent":"'+b[a].node[g].xoParent+'",':'"nodexoParent":null,',f+='"nodeContent":"'+b[a].node[g].content+'"',f+="}",g<d-1&&(f+=",");f+="]",f=JSON.parse(f)}e.push({page:b[a].id,title:b[a].title,metas:b[a].metas,node:f});for(var h="",i=e[0].node,j=0,k=i.length;j<k;j++)h+="<"+i[j].nodeType,h+=null!==i[j].nodexoType&&void 0!==i[j].nodexoType?' xo-type="'+i[j].nodexoType+'"':"",h+=null!==i[j].nodeClass&&void 0!==i[j].nodeClass?' class="'+i[j].nodeClass+'"':"",h+=null!==i[j].nodeID&&void 0!==i[j].nodeID?' id="'+i[j].nodeID+'"':"",h+=null!==i[j].nodexoState&&void 0!==i[j].nodexoState?' xo-state="'+i[j].nodexoState+'"':"",h+=null!==i[j].nodexoSpan&&void 0!==i[j].nodexoSpan?' xo-span="'+i[j].nodexoSpan+'"':"",h+=null!==i[j].nodexoObjectName&&void 0!==i[j].nodexoObjectName?' xo-object-name="'+i[j].nodexoObjectName+'"':"",h+=null!==i[j].nodexoTypeParam&&void 0!==i[j].nodexoTypeParam?' xo-type-param="'+i[j].nodexoTypeParam+'"':"",h+=null!==i[j].nodexoParent&&void 0!==i[j].nodexoParent?' xo-parent="'+i[j].nodexoParent+'"':"",h+=">"+i[j].nodeContent+"</"+i[j].nodeType+">";xj('[xo-object-name="'+c+'"]').append(h),xo.saveLoadedItems(xo.config.sessionStorageKey+c)})}):xo.warningBar("attention","DATA LOADED","This data instance has already been loaded","body")},dropDownInit:function(){xj('[xo-type="dropdown"]').each(function(){var a=xj(this).attr("xo-dropdown-button"),b=xj(this).attr("xo-object-name");xo.dropDownBuilder(a,b,"static",null)}),xj('[xo-type="jsondropdown"]').each(function(){var a=xj(this).attr("xo-dropdown-button"),b=xj(this).attr("xo-object-name"),c=xj(this).attr("xo-data-source");xo.dropDownBuilder(a,b,"json",c)})},dropDownBuilder:function(a,b,c,d){switch(c){case"static":var e='[xo-object-name="'+b+'"]',f=xj(e).attr("xo-state"),g='<button xo-type="dropdown-button" xo-parent="'+b+'">'+a+"</button>";xj(e).prepend(g).find("ul").attr("xo-object-name",b).attr("xo-state",f);break;case"json":e='[xo-object-name="'+b+'"]',f=xj(e).attr("xo-state"),g='<button xo-type="dropdown-button" xo-parent="'+b+'">'+a+"</button>";var h=xo.getData(null,d,"b",b,!1),i=xo.checkLoadedItems(xo.config.sessionStorageKey+b),j="";i!==!0?h.success(function(a){var c=a.dropdown;j+='<ul xo-object-name="'+b+'" xo-state="'+f+'">',Object.keys(c).forEach(function(a){j+="<li",j+=null!==c[a].xotype&&void 0!==c[a].xotype?' xo-type="'+c[a].xotype+'"':"",j+=null!==c[a].xotrigger&&void 0!==c[a].xotrigger?' xo-trigger="'+c[a].xotrigger+'"':"",j+=null!==c[a].xotriggerurl&&void 0!==c[a].xotriggerurl?' xo-trigger-url="'+c[a].xotriggerurl+'"':"",j+=null!==c[a].xostate&&void 0!==c[a].xostate?' xo-state="'+c[a].xostate+'"':"",j+=null!==c[a].xoobjectname&&void 0!==c[a].xoobjectname?' xo-object-name="'+c[a].xoobjectname+'"':"",j+=null!==c[a].xoparent&&void 0!==c[a].xoparent?' xo-parent="'+c[a].xoparent+'"':"",j+=null!==c[a].class&&void 0!==c[a].class?' class="'+c[a].class+'"':"",j+=null!==c[a].id&&void 0!==c[a].id?' id="'+c[a].id+'"':"",j+=">",j+=c[a].content,j+="</li>"}),j+="</ul>",xj(e).prepend(g).find("ul").attr("xo-object-name",b).attr("xo-state",f),xj('[xo-object-name="'+b+'"]').append(j),xo.saveLoadedItems(xo.config.sessionStorageKey+b)}):xo.warningBar("attention","DATA LOADED","This data instance has already been loaded","body")}},navInit:function(){xj('[xo-type="navigation"]').each(function(){var a=xj(this).attr("xo-object-name"),b=xj(this).attr("xo-data-source");xo.navBuilder(b,a)})},navBuilder:function(a,b){var c=xo.getData(null,a,"b",b,!1),d=[],e=xo.checkLoadedItems(xo.config.sessionStorageKey+b);e!==!0&&c.success(function(a){var c=a.nav;Object.keys(c).forEach(function(a){if(null!==c[a].nodes&&void 0!==c[a].nodes&&"undefined"!==c[a].nodes&&"object"==typeof c[a].nodes){for(var b=c[a].nodes.length,e="[",f=0;f<b;f++)e+='{"nodetype":"'+c[a].nodes[f].type+'"',e+=null!==c[a].nodes[f].class&&"undefined"!==c[a].nodes[f].class&&void 0!==c[a].nodes[f].class?',"nodeclass":"'+c[a].nodes[f].class+'"':"",e+=null!==c[a].nodes[f].id&&"undefined"!==c[a].nodes[f].id&&void 0!==c[a].nodes[f].id?',"nodeid":"'+c[a].nodes[f].id+'"':"",e+=null!==c[a].nodes[f].xotype&&"undefined"!==c[a].nodes[f].xotype&&void 0!==c[a].nodes[f].xotype?',"nodexotype":"'+c[a].nodes[f].xotype+'"':"",e+=null!==c[a].nodes[f].xostate&&"undefined"!==c[a].nodes[f].xostate&&void 0!==c[a].nodes[f].xostate?',"nodexostate":"'+c[a].nodes[f].xostate+'"':"",e+=null!==c[a].nodes[f].xoObjectName&&"undefined"!==c[a].nodes[f].xoobjectname&&void 0!==c[a].nodes[f].xoobjectname?',"nodexoobjectname":"'+c[a].nodes[f].xoobjectname+'"':"",e+=null!==c[a].nodes[f].xoParent&&"undefined"!==c[a].nodes[f].xoparent&&void 0!==c[a].nodes[f].xoparent?',"nodexoparent":"'+c[a].nodes[f].xoparent+'"':"",e+=null!==c[a].nodes[f].label&&"undefined"!==c[a].nodes[f].label&&void 0!==c[a].nodes[f].label?',"nodecontent":"'+c[a].nodes[f].label+'"':"",e+="}",f<b-1&&(e+=",");e+="]",e=JSON.parse(e)}d.push({type:c[a].type,label:c[a].label,url:c[a].url,class:c[a].class,id:c[a].id,xotype:c[a].xotype,xotrigger:c[a].xotrigger,xotriggerurl:c[a].xotriggerurl,xostate:c[a].xostate,xoobjectname:c[a].xoobjectname,xoparent:c[a].xoparent,placeholder:c[a].placeholder,button:c[a].buttonLabel,node:e})});for(var e="",f=0,g=d.length;f<g;f++)switch(d[f].type){case"icon":e+='<div class="nav-icon"',e+=null!==d[f].xostate&&"undefined"!==d[f].xostate&&void 0!==d[f].xostate?' xo-state="'+d[f].xostate+'"':"",e+=null!==d[f].xotype&&"undefined"!==d[f].xotype&&void 0!==d[f].xotype?' xo-type="'+d[f].xotype+'"':"",e+=null!==d[f].xoparent&&"undefined"!==d[f].xoparent&&void 0!==d[f].xoparent?' xo-parent="'+d[f].xoparent+'"':"",e+=">",e+=null!==d[f].class&&"undefined"!==d[f].class&&void 0!==d[f].class?'<span class="'+d[f].class+'"></span>':"",e+="</div>";break;case"image":e+="<img",e+=null!==d[f].xotype&&"undefined"!==d[f].xotype&&void 0!==d[f].xotype?' xo-type="'+d[f].xotype+'"':"",e+=null!==d[f].xotrigger&&"undefined"!==d[f].xotrigger&&void 0!==d[f].xotrigger?' xo-trigger="'+d[f].xotrigger+'"':"",e+=null!==d[f].xotriggerurl&&"undefined"!==d[f].xotriggerurl&&void 0!==d[f].xotriggerurl?' xo-trigger-url="'+d[f].xotriggerurl+'"':"",e+=null!==d[f].xostate&&"undefined"!==d[f].xostate&&void 0!==d[f].xostate?' xo-state="'+d[f].xostate+'"':"",e+=null!==d[f].xoobjectname&&"undefined"!==d[f].xoobjectname&&void 0!==d[f].xoobjectname?' xo-object-name="'+d[f].xoobjectname+'"':"",e+=null!==d[f].xoparent&&"undefined"!==d[f].xoparent&&void 0!==d[f].xoparent?' xo-parent="'+d[f].xoparent+'"':"",e+=null!==d[f].class&&"undefined"!==d[f].class&&void 0!==d[f].class?' class="'+d[f].class+'"':"",e+=null!==d[f].id&&"undefined"!==d[f].id&&void 0!==d[f].id?' id="'+d[f].id+'"':"",e+=' src="'+d[f].url,e+='" />';break;case"button":e+="<button",e+=null!==d[f].xotype&&"undefined"!==d[f].xotype&&void 0!==d[f].xotype?' xo-type="'+d[f].xotype+'"':"",e+=null!==d[f].xotrigger&&"undefined"!==d[f].xotrigger&&void 0!==d[f].xotrigger?' xo-trigger="'+d[f].xotrigger+'"':"",e+=null!==d[f].xotriggerurl&&"undefined"!==d[f].xotriggerurl&&void 0!==d[f].xotriggerurl?' xo-trigger-url="'+d[f].xotriggerurl+'"':"",e+=null!==d[f].xostate&&"undefined"!==d[f].xostate&&void 0!==d[f].xostate?' xo-state="'+d[f].xostate+'"':"",e+=null!==d[f].xoobjectname&&"undefined"!==d[f].xoobjectname&&void 0!==d[f].xoobjectname?' xo-object-name="'+d[f].xoobjectname+'"':"",e+=null!==d[f].xoparent&&"undefined"!==d[f].xoparent&&void 0!==d[f].xoparent?' xo-parent="'+d[f].xoparent+'"':"",e+=null!==d[f].class&&"undefined"!==d[f].class&&void 0!==d[f].class?' class="'+d[f].class+'"':"",e+=null!==d[f].id&&"undefined"!==d[f].id&&void 0!==d[f].id?' id="'+d[f].id+'"':"",e+=">",e+=d[f].label,e+="</button>";break;case"search":e+="<form",e+=null!==d[f].xotype&&"undefined"!==d[f].xotype&&void 0!==d[f].xotype?' xo-type="'+d[f].xotype+'"':"",e+=null!==d[f].xotrigger&&"undefined"!==d[f].xotrigger&&void 0!==d[f].xotrigger?' xo-trigger="'+d[f].xotrigger+'"':"",e+=null!==d[f].xotriggerurl&&"undefined"!==d[f].xotriggerurl&&void 0!==d[f].xotriggerurl?' xo-trigger-url="'+d[f].xotriggerurl+'"':"",e+=null!==d[f].xostate&&"undefined"!==d[f].xostate&&void 0!==d[f].xostate?' xo-state="'+d[f].xostate+'"':"",e+=null!==d[f].xoobjectname&&"undefined"!==d[f].xoobjectname&&void 0!==d[f].xoobjectname?' xo-object-name="'+d[f].xoobjectname+'"':"",e+=null!==d[f].xoparent&&"undefined"!==d[f].xoparent&&void 0!==d[f].xoparent?' xo-parent="'+d[f].xoparent+'"':"",e+=null!==d[f].class&&"undefined"!==d[f].class&&void 0!==d[f].class?' class="'+d[f].class+'"':"",e+=null!==d[f].id&&"undefined"!==d[f].id&&void 0!==d[f].id?' id="'+d[f].id+'"':"",e+='><input type="text"',e+=null!==d[f].placeholder&&"undefined"!==d[f].placeholder&&void 0!==d[f].placeholder?' placeholder="'+d[f].placeholder+'"':"",e+=">",e+=null!==d[f].buttonLabel&&"undefined"!==d[f].buttonLabel&&void 0!==d[f].buttonLabel?'<input type="submit" value="'+d[f].buttonLabel+'">':"",e+="</form>";break;case"dropdown":if(e+='<div class="nav-dropdown" xo-state="closed">',e+='<button xo-type="'+d[f].xotype+'" xo-parent="'+d[f].xoparent+'" class="'+d[f].class+'">'+d[f].label+"</button>",null!==d[f].node&&void 0!==d[f].node&&"undefined"!==d[f].node&&""!==d[f].node){e+='<ul xo-object-name="'+d[f].xoparent+'" xo-state="closed">';for(var h=0,i=d[f].node.length;h<i;h++)"line"==d[f].node[h].nodetype?e+='<li xo-type="'+d[f].node[h].nodexotype+'" xo-state="'+d[f].node[h].nodexostate+'" xo-object-name="'+d[f].node[h].nodexoobjectname+'" xo-parent="'+d[f].node[h].nodexoparent+'" class="'+d[f].node[h].nodeclass+'" id="'+d[f].node[h].nodeid+'">'+d[f].node[h].nodecontent+"</li>":"seperator"==d[f].node[h].nodetype&&(e+='<li xo-type="dropdown-seperator"></li>')}e+="</div>"}xj('[xo-object-name="'+b+'"]').append(e)})},warningBar:function(a,b,c,d){var e='<div xo-type="warning" xo-type-param="'+a+'" xo-state="open">';e+=null!==b&&void 0!==b?'<div class="message title">'+b+"</div>":"",e+=null!==c&&void 0!==c?'<div class="message content">'+c+"</div>":"",e+="</div>","body"==d?xj(xo.config.domParentNode).prepend(e):xj('[xo-object-name="'+d+'"]').prepend(e)},poster:function(){var a=xj('[xo-type="poster"]'),b=a.attr("xo-object-name"),c=a.attr("xo-parent"),d=a.attr("xo-state"),e=a.attr("xo-poster-source"),f=a.attr("xo-poster-size"),g=a.attr("xo-type-param"),h=a.find('[xo-type="poster-text"]');if("fullscreen"==g)var i="100%",j="100%";else i=f.split(",")[0],j=f.split(",")[1];if(h.length>0&&xj(h).each(function(){var a=xj(this).attr("xo-type-param"),b="x"!==a.split(",")[0]?a.split(",")[0]:null,c="x"!==a.split(",")[1]?a.split(",")[1]:null,d="x"!==a.split(",")[2]?a.split(",")[2]:null;if(a.split(",")[3].indexOf("rgb")>-1)var e="x"!==a.split(",")[3]?a.split(",")[3].replace(/-/g,","):null;var f="x"!==a.split(",")[4]?a.split(",")[4]:null,g="x"!==a.split(",")[5]?a.split(",")[5]:null,h="x"!==a.split(",")[6]?a.split(",")[6]:null;xj(this).css({"font-size":b,color:c,"text-align":d,"background-color":e,width:f,height:g,padding:h,margin:"0 auto"})}),void 0!==c){var k=xj('[xo-object-name="'+b+'"]').detach();xj(c).prepend(k)}a.css({position:"absolute",display:"block",width:i,height:j,"background-image":"url("+e+")","background-repeat":"no-repeat","background-size":"cover"}),"closed"==d?a.attr("xo-state","open"):a.attr("xo-state","closed")},navPanelBuilder:function(a){if("tabs"==a){var b='[xo-type="tabs"]',c=xj(b).attr("xo-object-name"),d=xj(b).attr("xo-type-param"),e='<div xo-type="header">';xj(b).find('[xo-type="node"]').each(function(){var a=xj(this).attr("xo-header"),b=xj(this).attr("xo-object-name"),c=xj(this).attr("xo-state");e+='<div xo-type="header-node" xo-type-param="',e+="open"==c?"active":"",e+='" xo-parent="'+b+'">',"text"==d?e+=a:"icon"==d&&(e+='<span class="'+a+'"></span>'),e+="</div>"}),e+="</div>",xj('[xo-object-name="'+c+'"]').prepend(e),xj('[xo-object-name="'+c+'"]').find('[xo-type="node"]').wrapAll('<div xo-type="block">')}else if("accordion"==a){var f='[xo-type="accordion"]',g=(xj(f).attr("xo-object-name"),xj(f).attr("xo-type-param"));xj(f).find('[xo-type="node"]').each(function(){var a=xj(this).attr("xo-header"),b=xj(this).attr("xo-object-name"),c=xj(this).attr("xo-state"),d='<div xo-type="header-node" xo-type-param="';d+="open"==c?"active":"",d+='" xo-parent="'+b+'">',"text"==g?d+=a:"icon"==g&&(d+='<span class="'+a+'"></span>'),d+="</div>",xj(d).insertBefore(this)})}},initMouseEvents:function(){var a,b;xj("body").on("mouseover",'[xo-trigger="tooltip"]',function(c){a=c.pageX,b=c.pageY,xo.tooltip(xj(this),"add")}).on("mouseout",'[xo-trigger="tooltip"]',function(){xo.tooltip(null,"delete")}).on("click",'[xo-trigger="url"]',function(){var a=xj(this).attr("xo-trigger-url");xo.trigger("direct",a,null)}).on("click",'[xo-trigger-close="modal"]',function(){xo.modal()}).on("click",'[xo-type="gutter-toggle"]',function(){var a=xj(this).attr("xo-parent")||null;xo.gutter(null,a)}).on("click",'[xo-trigger="gutter-toggle"]',function(){var a=xj(this).attr("xo-parent")||null;xo.gutter(null,a)}).on("click",'[xo-trigger="poster"]',function(){xo.poster()}).on("click",'[xo-type="poster-toggle"]',function(){xo.poster()}).on("click",'[xo-type="data-toggle"]',function(){xo.layoutToPage()}).on("click",'[xo-trigger="data-toggle"]',function(){xo.layoutToPage()}).on("click",'[xo-type="gutter-filter"]',function(){var a=xj(this).attr("xo-parent")||null;xo.gutter(null,a)}).on("click",'[xo-type="modal-toggle"]',function(){""!==xj(this).attr("xo-data-template")&&xo.modal(null,xj(this).attr("xo-data-template"))}).on("click",'[xo-type="modal-filter"]',function(){xo.modal()}).on("click",'[xo-type="dropdown-button"]',function(){var a=xj(this).attr("xo-parent"),b='ul[xo-object-name="'+a+'"]',c=xj(b).attr("xo-state"),d=xj(this).parent().width();"open"==c?xj(b).attr("xo-state","closed").parent().attr("xo-state","closed"):"closed"==c&&xj(b).attr("xo-state","open").css("width",d).parent().attr("xo-state","open")}).on("click",'[xo-type="warning"]',function(){xj(this).slideToggle(500)}).on("click",'[xo-type="tabs"] [xo-type="header-node"]',function(){var a=xj(this).attr("xo-parent");xj('[xo-type="tabs"] [xo-type="node"]').attr("xo-state","closed"),xj('[xo-type="tabs"] [xo-type="node"][xo-object-name="'+a+'"]').attr("xo-state","open"),xj('[xo-type="tabs"] [xo-type="header-node"]').attr("xo-type-param",""),xj(this).attr("xo-type-param","active")}).on("click",'[xo-type="accordion"] [xo-type="header-node"]',function(){var a=xj(this).attr("xo-parent");xj('[xo-type="accordion"] [xo-type="node"]').attr("xo-state","closed"),xj('[xo-type="accordion"] [xo-type="node"][xo-object-name="'+a+'"]').attr("xo-state","open"),xj('[xo-type="accordion"] [xo-type="header-node"]').attr("xo-type-param",""),xj(this).attr("xo-type-param","active")})}};