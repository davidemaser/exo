var xo={config:{loadPathDefault:"../dist/js/",loadPathExtension:".js",ajaxPathDefault:"../dist/json/",ajaxFileExtension:".json",ajaxDefaultMethod:"get",ajaxDefaultDataType:"json",sessionStorageKey:"xo-",showErrorLog:!0,showErrorLogDate:!1,animationSpeed:500,domParentNode:"body",defaultXOWrapper:"section",initGutter:!0,initVideo:!0,initPanel:!0,initModal:!0,appRunning:!1},_define:{backlog:function(){},domload:function(){},dataready:function(){},domready:function(){},targetclick:function(){},targetswipe:function(){}},_throw:{dataerror:function(){},datatimeout:function(){},nullified:function(){},overflow:function(){}},countDomTags:function(t){t=t||document;var o,e={},n=[],a=t.getElementsByTagName("*");for(a=n.slice.apply(a,[0,a.length]);a.length;)o=a.shift().tagName.toLowerCase(),e[o]||(e[o]=0),e[o]+=1;for(var i in e)n[n.length]=i+": "+e[i];return n.sort(function(t,o){return t=1*t.split(":")[1],o=1*o.split(":")[1],o-t}),n.join(", ")},createUniqueCode:function(){var t=(new Date).valueOf(),o=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);return t+o},init:function(t,o){xo.pageSetUp("html","xo","true","xo set"),1==xo.config.initGutter?xo.gutter("init"):null,1==xo.config.initVideo?xo.video():null,1==xo.config.initPanel?xo.panel():null,1==xo.config.initModal?xo.modal("init"):null,xo.initMouseEvents(),xo.config.appRunning=!0,1==t?xo.log("xo is running"):null,o&&"function"==typeof o&&o()},pageSetUp:function(t,o,e,n){xo.config.appRunning!==!0?($(t).attr({"xo-prefix":o,"xo-min":e}).addClass(n),$(xo.config.domParentNode).contents().wrapAll("<"+xo.config.defaultXOWrapper+' class="xo" xo-reserved="true">')):xo.log("An XO instance is already running")},loadSuccess:function(){$(xo.config.domParentNode).css("opacity",1)},loadExternal:function(scriptPath,scriptURI,scriptExt){var a=xo.config.loadPathDefault,b=void 0==scriptURI?"":scriptURI,c=xo.config.loadPathExtension,d=a+b+c;$.getScript(d,function(xoCore){eval(xoCore)})},log:function(t){var o=navigator.vendor.indexOf("Google")>-1,e=1==xo.config.showErrorLogDate?new Date:"";1==xo.config.showErrorLog&&(1==o?console.warn(t,e):console.log(t,e))},switchNavMode:function(){{var t=($("html").attr("xo-prefix"),$(xo.config.domParentNode).find(xo.config.defaultXOWrapper)),o=t.attr("xo-reserved");1==o?xo.config.ajaxPathDefault:scriptPath}},animate:function(){},getData:function(t,o,e,n,a){var i=xo.config.ajaxPathDefault,r=void 0==o?"":o,l=xo.config.ajaxFileExtension,c=i+r+l;$.ajax({dataType:xo.config.ajaxDefaultDataType,url:c,type:xo.config.ajaxDefaultMethod,statusCode:{404:function(){xo.log("XO can't load that file")},500:function(){xo.log("the server has encountered an internal error")},502:function(){xo.log("bad gateway")},503:function(){xo.log("the service is unavailable")},504:function(){xo.log("the gateway has timed out")}}}).success(function(t){"p"==e?parseData(t,!0,a):"s"==e&&xo.saveDataToSession(JSON.stringify(t),"s",xo.config.sessionStorageKey,n)}).error(function(){xo.log("ajax can't load that file")})},parseData:function(t,o,e){1==o&&(_data=JSON.parse(t)),$(e).append(_data)},saveDataToSession:function(t,o,e,n){"undefined"!=typeof Storage?"s"==o?sessionStorage.setItem(e+n,t):localStorage.setItem(xo.config.sessionStorageKey+xo.createUniqueCode(),t):xo.log("Sorry! No Web Storage support..")},getDataFromSession:function(t,o,e){var n=sessionStorage.getItem(t+"-"+o);1==e&&(n=JSON.parse(n)),console.log(n)},trigger:function(t,o,e){e=e||null,"direct"==t?window.location=o:"prompt"==t&&xo.prompt(e,o)},prompt:function(t,o){var e=confirm(t);1==e&&(window.location=o),document.getElementById("demo").innerHTML=txt},tooltip:function(t,o){if("add"==o){var e=$(t).attr("xo-tooltip-text"),n="tooltip"==$(t).attr("xo-trigger"),a=$(t).offset().top,i=$(t).offset().left;if(1==n){var r='<div class="tooltip" style="left:'+i+";top:"+a+';">'+e+"</div>";$(r).insertAfter(t)}}else"delete"==o&&$(".tooltip").remove()},panel:function(){$('[xo-type="panel-group"]').each(function(){var t='[xo-type="panel"]',o=$(this).children().length,e=$(this).width();$(this).find(t).each(function(){$(this).css("width",e/o-o),console.log(o)})})},getTemplateObjects:function(t,o){var e=o.split(",");switch(t){case"modal":var n=e[0],a=e[1],i=e[2];if(i.indexOf("/")>-1)var r=i.split("/"),l=r[0],c=r[1];var d='<div class="xo modal title">'+n+"</div>";return d+='<div class="xo modal body">'+a+"</div>",d+='<div class="xo modal buttons">',Array.isArray(r)?(d+="<button>"+l+"</button>",d+="<button>"+c+"</button>"):d+="<button>"+i+"</button>",d+="</div>";case"popup":}},modal:function(t,o){var e='[xo-type="modal"]',n='[xo-type="modal-filter"]',a='<div xo-type="modal-filter"></div>',i=$(e).attr("xo-data-template");if("undefined"!=typeof i&&i!==!1?($(e).contents().not('[xo-type="modal-toggle"]').remove(),$(e).append(xo.getTemplateObjects("modal",i))):void 0!==o&&($(e).contents().not('[xo-type="modal-toggle"]').remove(),$(e).append(xo.getTemplateObjects("modal",o))),$(e).length>0){var r=$(e).attr("xo-state");$(e).attr("xo-type-param")}"init"==t?($(e).prepend('<div xo-type="modal-toggle">X</div>'),$(e).wrap('<div class="modal-wrapper">')):"open"==r?($(e).attr("xo-state","closed"),$(n).animate({opacity:0},xo.config.animationSpeed,function(){$(n).remove()})):"closed"==r&&($(xo.config.defaultXOWrapper+".xo").prepend(a),$(n).animate({opacity:1},xo.config.animationSpeed,function(){$(e).attr("xo-state","open")}))},gutter:function(t){var o='[xo-type="gutter"]',e='[xo-type="gutter-filter"]',n='<div xo-type="gutter-filter"></div>';if($(o).length>0){var a=$(o).attr("xo-state"),i=$(o).width();$(o).attr("xo-type-param")}"init"==t?($(o).prepend('<div xo-type="gutter-toggle">X</div>'),"closed"==a&&$(o).css("left",-i)):"open"==a?($(o).animate({left:-i},xo.config.animationSpeed).attr("xo-state","closed"),$(e).animate({opacity:0},xo.config.animationSpeed,function(){$(e).remove()})):"closed"==a&&($(o).animate({left:0},xo.config.animationSpeed).attr("xo-state","open"),$(xo.config.defaultXOWrapper+".xo").prepend(n),$(e).animate({opacity:1},xo.config.animationSpeed))},video:function(){$('[xo-type="video"]').each(function(){var t='[xo-type="video"]',o=$(t).attr("xo-video-width")||"auto",e=$(t).attr("xo-video-height")||"auto",n=$(t).attr("xo-video-src"),a=$(t).attr("xo-video-format"),i=$(t).attr("xo-video-controls"),r=$(t).attr("xo-video-autoplay"),l='<video width="'+o+'" height="'+e+'"';"true"==i&&(l+=" controls"),"true"==r&&(l+=" autoplay"),l+=">",l+='<source src="'+n+'" type="video/'+a+'">',l+="Your browser does not support the video tag.",l+="</video>",$(t).contents().remove(),$(t).append(l)})},initMouseEvents:function(){var t,o;$("body").on("mouseover",'[xo-trigger="tooltip"]',function(e){t=e.pageX,o=e.pageY,xo.tooltip($(this),"add")}).on("mouseout",'[xo-trigger="tooltip"]',function(){xo.tooltip(null,"delete")}).on("click",'[xo-trigger="url"]',function(){var t=$(this).attr("xo-trigger-url");xo.trigger("direct",t,null)}).on("click",'[xo-type="gutter-toggle"]',function(){xo.gutter(null)}).on("click",'[xo-trigger="gutter-toggle"]',function(){xo.gutter(null)}).on("click",'[xo-type="gutter-filter"]',function(){xo.gutter(null)}).on("click",'[xo-type="modal-toggle"]',function(){""!==$(this).attr("xo-data-template")&&xo.modal(null,$(this).attr("xo-data-template"))}).on("click",'[xo-type="modal-filter"]',function(){xo.modal()})}};